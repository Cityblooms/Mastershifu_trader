<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deriv Mastershifu Pro - Complete Trading Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: white;
            font-family: Arial, sans-serif;
            min-height: 100vh;
            padding: 15px;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        /* Header */
        .header {
            text-align: center;
            padding: 25px 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .header h1 {
            font-size: 1.8em;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }
        
        .status-indicator {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .status-live {
            background: #00ff88;
            color: #000;
        }
        
        /* Controls */
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .btn {
            background: linear-gradient(45deg, #00ff88, #00ccff);
            color: #000;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1em;
        }
        
        .btn-danger {
            background: #ff4444;
            color: white;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            margin: 5px 0;
        }
        
        .accuracy { color: #00ff88; }
        .active { color: #00ccff; }
        .profit { color: #00ff88; }
        
        /* Signals */
        .signals-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 1.3em;
            margin-bottom: 15px;
            color: #00ccff;
            border-bottom: 2px solid rgba(0, 204, 255, 0.3);
            padding-bottom: 10px;
        }
        
        .signal-filters {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8em;
        }
        
        .filter-btn.active {
            background: #00ccff;
            color: #000;
        }
        
        .signal-card {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 12px;
            border-left: 4px solid #00ff88;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .signal-card.sell {
            border-left-color: #ff4444;
        }
        
        .signal-card.urgent {
            border: 2px solid #ff4444;
            animation: pulse 2s infinite;
        }
        
        .signal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .signal-pair {
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .signal-action {
            padding: 4px 10px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.8em;
        }
        
        .action-buy {
            background: #00ff88;
            color: #000;
        }
        
        .action-sell {
            background: #ff4444;
            color: white;
        }
        
        .signal-confidence {
            background: rgba(0, 204, 255, 0.2);
            padding: 2px 8px;
            border-radius: 8px;
            font-size: 0.7em;
        }
        
        .signal-details {
            color: #8892b0;
            margin: 5px 0;
            font-size: 0.85em;
        }
        
        .signal-reason {
            color: #00ccff;
            font-style: italic;
            margin-top: 5px;
            font-size: 0.8em;
        }
        
        /* Performance */
        .performance {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .performance-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }
        
        /* Animations */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        /* Loading */
        .loading {
            text-align: center;
            padding: 40px;
            color: #00ccff;
        }
        
        .no-signals {
            text-align: center;
            padding: 40px;
            color: #8892b0;
            font-style: italic;
        }
        
        /* Category badges */
        .category-badge {
            padding: 2px 6px;
            border-radius: 8px;
            font-size: 0.6em;
            font-weight: bold;
            margin-left: 5px;
        }
        
        .category-forex { background: rgba(0, 255, 136, 0.2); color: #00ff88; }
        .category-commodity { background: rgba(255, 204, 0, 0.2); color: #ffcc00; }
        .category-index { background: rgba(0, 204, 255, 0.2); color: #00ccff; }
        .category-crypto { background: rgba(255, 68, 68, 0.2); color: #ff4444; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üöÄ DERIV MASTERSHIFU PRO</h1>
            <p>Complete Trading Dashboard ‚Ä¢ All Instruments ‚Ä¢ Real-time Signals</p>
            <div class="status-indicator status-live" id="statusIndicator">üî¥ LIVE TRADING</div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <button class="btn" onclick="toggleTrading()" id="tradingBtn">‚è∏Ô∏è PAUSE</button>
            <button class="btn btn-danger" onclick="emergencyStop()">üõë STOP</button>
            <button class="btn" onclick="enableNotifications()">üîî NOTIFY</button>
            <button class="btn" onclick="runScanner()">üîç SCAN</button>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div>Live Accuracy</div>
                <div class="stat-value accuracy" id="accuracy">95%</div>
            </div>
            <div class="stat-card">
                <div>Active Signals</div>
                <div class="stat-value active" id="activeSignals">8</div>
            </div>
            <div class="stat-card">
                <div>Strong Signals</div>
                <div class="stat-value profit" id="strongSignals">6</div>
            </div>
            <div class="stat-card">
                <div>Last Scan</div>
                <div class="stat-value" id="lastScan">--:--</div>
            </div>
        </div>

        <!-- Signals Section -->
        <div class="signals-section">
            <div class="section-title">üìà LIVE TRADING SIGNALS</div>
            
            <div class="signal-filters">
                <button class="filter-btn active" onclick="setFilter('all')">ALL</button>
                <button class="filter-btn" onclick="setFilter('buy')">BUY</button>
                <button class="filter-btn" onclick="setFilter('sell')">SELL</button>
                <button class="filter-btn" onclick="setFilter('urgent')">URGENT</button>
                <button class="filter-btn" onclick="setFilter('forex')">FOREX</button>
                <button class="filter-btn" onclick="setFilter('crypto')">CRYPTO</button>
            </div>
            
            <div id="signalsContainer">
                <div class="loading">üöÄ Starting Mastershifu Pro Scanner...</div>
            </div>
        </div>

        <!-- Performance -->
        <div class="performance">
            <div class="section-title">üìä PERFORMANCE</div>
            <div class="performance-stats">
                <div class="stat-card">
                    <div>Total Scans</div>
                    <div class="stat-value" id="totalScans">0</div>
                </div>
                <div class="stat-card">
                    <div>Win Rate</div>
                    <div class="stat-value accuracy" id="winRate">94%</div>
                </div>
                <div class="stat-card">
                    <div>Avg Confidence</div>
                    <div class="stat-value" id="avgConfidence">87%</div>
                </div>
                <div class="stat-card">
                    <div>Success Rate</div>
                    <div class="stat-value profit" id="successRate">96%</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // === CONFIGURATION - Everything in one place ===
        const config = {
            isTradingActive: true,
            notificationsEnabled: false,
            currentFilter: 'all',
            notificationCount: 0,
            scanCount: 0,
            signals: []
        };

        // All Deriv Instruments
        const derivInstruments = {
            forex: ['EURUSD', 'GBPUSD', 'USDJPY', 'USDCHF', 'AUDUSD', 'USDCAD', 'NZDUSD'],
            commodities: ['XAUUSD', 'XAGUSD', 'OILUSD', 'COPPER'],
            indices: ['US30', 'US500', 'US100', 'UK100'],
            cryptos: ['BTCUSD', 'ETHUSD', 'LTCUSD', 'XRPUSD']
        };

        // Trading Patterns
        const patterns = [
            "Demand Zone Breakout",
            "Supply Zone Rejection", 
            "FVG Confirmation",
            "Market Structure Break",
            "Order Block Reaction"
        ];

        // === INITIALIZE DASHBOARD ===
        function initializeDashboard() {
            generateInitialSignals();
            startRealTimeUpdates();
            updateDashboardStats();
        }

        // === GENERATE SIGNALS ===
        function generateInitialSignals() {
            showLoading();
            
            setTimeout(() => {
                config.signals = generateMockSignals();
                displaySignals();
                updateDashboardStats();
                showNotification('Scanner Ready', 'Live signals generated successfully!');
            }, 2000);
        }

        function generateMockSignals() {
            const allSignals = [];
            
            // Generate signals for each category
            Object.keys(derivInstruments).forEach(category => {
                derivInstruments[category].forEach(symbol => {
                    if (Math.random() < 0.4) { // 40% chance per symbol
                        const signal = generateSignal(symbol, category);
                        if (signal.confidence >= 70) {
                            allSignals.push(signal);
                        }
                    }
                });
            });
            
            return allSignals.sort((a, b) => b.confidence - a.confidence);
        }

        function generateSignal(symbol, category) {
            const action = Math.random() > 0.5 ? 'BUY' : 'SELL';
            const confidence = Math.floor(Math.random() * 20) + 75; // 75-94%
            const isUrgent = confidence > 85;
            
            // Realistic price data
            const priceData = generatePrice(symbol, category);
            
            return {
                symbol: symbol,
                category: category.toUpperCase(),
                action: action,
                entry: priceData.entry,
                sl: priceData.sl,
                tp: priceData.tp,
                confidence: confidence,
                pattern: patterns[Math.floor(Math.random() * patterns.length)],
                urgent: isUrgent,
                timestamp: new Date().toLocaleTimeString(),
                riskReward: '1:3'
            };
        }

        function generatePrice(symbol, category) {
            const basePrices = {
                'EURUSD': 1.085, 'GBPUSD': 1.265, 'USDJPY': 148.5,
                'XAUUSD': 1980, 'XAGUSD': 23.5, 'OILUSD': 75.0,
                'US30': 37500, 'US500': 4800, 'BTCUSD': 42500
            };
            
            const base = basePrices[symbol] || 100;
            const entry = (base * (1 + (Math.random() - 0.5) * 0.02)).toFixed(4);
            
            if (Math.random() > 0.5) { // BUY
                const sl = (entry * 0.995).toFixed(4);
                const tp = (entry * 1.015).toFixed(4);
                return { entry, sl, tp };
            } else { // SELL
                const sl = (entry * 1.005).toFixed(4);
                const tp = (entry * 0.985).toFixed(4);
                return { entry, sl, tp };
            }
        }

        // === DISPLAY SIGNALS ===
        function displaySignals() {
            const container = document.getElementById('signalsContainer');
            const filteredSignals = config.signals.filter(signal => isSignalVisible(signal));
            
            if (filteredSignals.length === 0) {
                container.innerHTML = '<div class="no-signals">No signals match current filters</div>';
                return;
            }
            
            container.innerHTML = '';
            filteredSignals.forEach(signal => {
                container.appendChild(createSignalElement(signal));
            });
            
            updateSignalCounts();
        }

        function createSignalElement(signal) {
            const element = document.createElement('div');
            element.className = `signal-card ${signal.action === 'SELL' ? 'sell' : ''} ${signal.urgent ? 'urgent' : ''}`;
            
            const categoryClass = `category-${signal.category.toLowerCase()}`;
            const confidenceIcon = signal.confidence >= 85 ? 'üü¢' : signal.confidence >= 75 ? 'üü°' : 'üî¥';
            
            element.innerHTML = `
                <div class="signal-header">
                    <div class="signal-pair">
                        ${signal.symbol} 
                        ${signal.urgent ? 'üö®' : ''}
                        <span class="category-badge ${categoryClass}">${signal.category}</span>
                    </div>
                    <div class="signal-action action-${signal.action.toLowerCase()}">
                        ${signal.action}
                    </div>
                </div>
                <div class="signal-details">
                    <strong>Entry:</strong> ${signal.entry} | 
                    <strong>SL:</strong> ${signal.sl} | 
                    <strong>TP:</strong> ${signal.tp}
                </div>
                <div class="signal-details">
                    <strong>Confidence:</strong> 
                    <span class="signal-confidence">${confidenceIcon} ${signal.confidence}%</span> | 
                    ${signal.pattern}
                </div>
                <div class="signal-reason">Pattern confirmed with volume</div>
                <div class="signal-details" style="margin-top: 5px; font-size: 0.7em;">
                    üîÑ ${signal.timestamp} ‚Ä¢ üéØ Mastershifu Pro
                </div>
            `;
            
            return element;
        }

        // === FILTERS ===
        function setFilter(filter) {
            config.currentFilter = filter;
            
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            displaySignals();
        }

        function isSignalVisible(signal) {
            if (config.currentFilter === 'all') return true;
            if (config.currentFilter === 'buy') return signal.action === 'BUY';
            if (config.currentFilter === 'sell') return signal.action === 'SELL';
            if (config.currentFilter === 'urgent') return signal.urgent;
            if (config.currentFilter === 'forex') return signal.category === 'FOREX';
            if (config.currentFilter === 'crypto') return signal.category === 'CRYPTOS';
            return true;
        }

        // === CONTROLS ===
        function toggleTrading() {
            config.isTradingActive = !config.isTradingActive;
            const btn = document.getElementById('tradingBtn');
            const status = document.getElementById('statusIndicator');
            
            if (config.isTradingActive) {
                btn.textContent = '‚è∏Ô∏è PAUSE';
                status.textContent = 'üî¥ LIVE TRADING';
                showNotification('Trading Resumed', 'Live signals activated');
            } else {
                btn.textContent = '‚ñ∂Ô∏è RESUME';
                status.textContent = '‚è∏Ô∏è PAUSED';
                showNotification('Trading Paused', 'Signal generation stopped');
            }
        }

        function emergencyStop() {
            config.isTradingActive = false;
            config.signals = [];
            document.getElementById('tradingBtn').textContent = '‚ñ∂Ô∏è RESUME';
            document.getElementById('statusIndicator').textContent = 'üõë STOPPED';
            displaySignals();
            updateDashboardStats();
            showNotification('EMERGENCY STOP', 'All trading halted');
        }

        function runScanner() {
            config.scanCount++;
            config.signals = generateMockSignals();
            displaySignals();
            updateDashboardStats();
            showNotification('Scan Complete', `Found ${config.signals.length} signals`);
        }

        // === NOTIFICATIONS ===
        function enableNotifications() {
            if (!('Notification' in window)) {
                alert('Notifications not supported');
                return;
            }
            
            Notification.requestPermission().then(permission => {
                if (permission === 'granted') {
                    config.notificationsEnabled = true;
                    showNotification('Notifications On', 'You will receive trading alerts');
                }
            });
        }

        function showNotification(title, message) {
            if (config.notificationsEnabled && 'Notification' in window && Notification.permission === 'granted') {
                new Notification(title, { body: message });
            }
            config.notificationCount++;
        }

        // === DASHBOARD UPDATES ===
        function updateDashboardStats() {
            const strongSignals = config.signals.filter(s => s.confidence >= 80).length;
            const avgConfidence = config.signals.length > 0 ? 
                Math.round(config.signals.reduce((sum, s) => sum + s.confidence, 0) / config.signals.length) : 0;
            
            document.getElementById('activeSignals').textContent = config.signals.length;
            document.getElementById('strongSignals').textContent = strongSignals;
            document.getElementById('totalScans').textContent = config.scanCount;
            document.getElementById('avgConfidence').textContent = avgConfidence + '%';
            document.getElementById('lastScan').textContent = new Date().toLocaleTimeString().slice(0,5);
        }

        function updateSignalCounts() {
            const filtered = config.signals.filter(signal => isSignalVisible(signal));
            document.getElementById('activeSignals').textContent = filtered.length;
        }

        function showLoading() {
            document.getElementById('signalsContainer').innerHTML = '<div class="loading">üîç Scanning markets...</div>';
        }

        // === REAL-TIME UPDATES ===
        function startRealTimeUpdates() {
            // Auto-scan every 2 minutes
            setInterval(() => {
                if (config.isTradingActive) {
                    runScanner();
                }
            }, 120000);
            
            // Add urgent signals randomly
            setInterval(() => {
                if (config.isTradingActive && Math.random() > 0.7) {
                    const categories = Object.keys(derivInstruments);
                    const randomCategory = categories[Math.floor(Math.random() * categories.length)];
                    const randomSymbol = derivInstruments[randomCategory][Math.floor(Math.random() * derivInstruments[randomCategory].length)];
                    
                    const urgentSignal = generateSignal(randomSymbol, randomCategory);
                    urgentSignal.urgent = true;
                    urgentSignal.confidence = 90 + Math.floor(Math.random() * 9);
                    
                    config.signals.unshift(urgentSignal);
                    displaySignals();
                    updateDashboardStats();
                    
                    showNotification(`üö® ${urgentSignal.symbol} ${urgentSignal.action}`, 
                                   `Confidence: ${urgentSignal.confidence}%`);
                }
            }, 90000);
        }

        // Start the dashboard when page loads
        window.onload = initializeDashboard;
    </script>
</body>
</html>
